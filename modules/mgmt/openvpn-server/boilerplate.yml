# OpenVPN Server boilerplate template
#
# This folder contains a boilerplate template that can be used to create an OpenVPN Server

variables:
  - name: AwsRegion
    description: What AWS region is the customer using (e.g. us-east-1)?

  - name: OpenVpnServerAmiName
    description: What should we name the OpenVPN Server AMI?
    default: openvpn-server

  - name: InstallCloudWatchMonitoring
    description: Should we install the CloudWatch Monitoring and Alarms Package (true or false)?
    type: bool

  - name: SshGruntGroup
    description: Enter the name of an IAM Group that ssh-grunt will sync to the OpenVPN Server to give those IAM users non-sudo SSH access

  - name: BastionSshGruntGroup
    description: Enter the name of an additional IAM Group that ssh-grunt will sync to the OpenVPN Server to give those IAM users non-sudo SSH access. This will only be used on the OpenVPN Server.

  - name: SshGruntSudoGroup
    description: Enter the name of an IAM Group that ssh-grunt will sync to the OpenVPN Server to give those IAM users sudo SSH access

  - name: IamUsersDefinedInSeparateAccount
    description: Are the IAM users for this customer defined in a separate AWS account?
    type: bool
    default: false

  - name: ExternalAccountSshGruntRoleArn
    description: The ARN if an IAM role in a separate AWS account that allows ssh-grunt to retrieve IAM group and public SSH key info from that account. Only used if IamUsersDefinedInSeparateAccount is true.
    default: replace-me

  - name: HasDefaultVpc
    description: Does this user's account have a Default VPC in the current region?
    type: bool
    default: true

  - name: PackerBuildVpcId
    description: What is the ID of VPC to use for Packer builds? This is only used if HasDefaultVpc is false. Typically, you should use the ID of the mgmt VPC.
    default: not-used

  - name: PackerBuildPublicSubnetId
    description: What is the ID of a public subnet in the PackerBuildVpcId to use for Packer builds? This is only used if HasDefaultVpc is false. Typically, you should use the ID of one of the public subnets of the mgmt VPC.
    default: not-used

  - name: EncryptBoot
    description: Should Packer encrypt the boot volume of the resulting AMI? Set to true for HIPAA customers.
    type: bool
    default: false

  - name: GruntworkInstallerVersion
    description: What version of the Gruntwork Installer should we use in the OpenVPN Server AMI (e.g. 0.0.13)?

  - name: ModuleSecurityVersion
    description: What version of module-security should we use?

  - name: ModuleAwsMonitoringVersion
    description: What version of module-aws-monitoring should we use?

  - name: PackageOpenVpnVersion
    description: What version of package-openvpn should we use?

  - name: MgmtVpcName
    description: What is the name of the mgmt VPC?
    default: mgmt

  - name: ExternalAccountIdsWithAccessToArtifacts
    description: A list of AWS account IDs that should be given access to the OpenVPN Server AMI. Note that this setting does NOT work if the AMI has an encrypted boot volume (EncryptBoot is true).
    type: list
    default: []

  - name: KmsKeyIsGlobal
    description: Set to true if the kms-master-key module defined in an _global folder (i.e. there is just one CMK in this account, which is common for multi-account setups). Set it to false if there is one KMS key per region (which is common for single-account setups).
    type: bool
    default: false

  - name: TerraformRequiredVersion
    description: "The version of Terraform the customer should use. This should be a version expression such as '= 10.5.7.'"

  - name: AWSProviderVersion
    description: "The version of the AWS provider the customer should use. This should be a version expression, such as '~> 2.0`"

  - name: BashCommonsVersion
    description: The version of bash-commons to install
